<!--
Copyright (C) 2006-2024 KIX Service Software GmbH, https://www.kixdesk.com
--
This software comes with ABSOLUTELY NO WARRANTY. For details, see
the enclosed file LICENSE for license information (GPL3). If you
did not receive this file, see https://www.gnu.org/licenses/gpl-3.0.txt.
--
-->

<if(state.formId && state.prepared)>
    <if(state.isSetup)>
        <div class="notification-template-form">
            <main-form/>
            <div class="button-container">
                <button
                    type="button"
                    on-click("preview")
                    title=(state.translations["Translatable#Preview"])
                    class="kix-button form-button">
                    <span class="kix-icon-image"/>
                    <translation-string pattern="Translatable#Preview"/>
                </button>
                <if(!state.completed)>
                    <button
                        type="button"
                        on-click("skip")
                        title=(
                            state.translations["Translatable#Skip & Continue"]
                        )
                        class="kix-button form-button">
                        <span class="kix-icon-arrow-outward"/>
                        <translation-string pattern="Translatable#Skip & Continue"/>
                    </button>
                </if>
                <button
                    type="button"
                    on-click("submit")
                    title=(state.translations["Translatable#Save & Continue"])
                    class="kix-button submit-button">
                    <span class="kix-icon-arrow-outward"/>
                    <translation-string pattern="Translatable#Save & Continue"/>
                </button>
            </div>
            <loading-shield shieldId="SETUP_NOTIFICATION_SHIELD"/>
        </div>
    </if>
    <else>
        <widget
            contextInstanceId=input.contextInstanceId
            instanceId=state.instanceId
            title=state.title
            icon="kix-icon-gears"
            minimizable=false>
            <@content>
                <div class="notification-template-form in-widget">
                    <main-form/>
                    <div class="button-container">
                        <button
                            type="button"
                            on-click("preview")
                            title=(state.translations["Translatable#Preview"])
                            class="kix-button form-button">
                            <span class="kix-icon-image"/>
                            <translation-string pattern="Translatable#Preview"/>
                        </button>
                        <button
                            type="button"
                            on-click("submit")
                            title=(state.translations["Translatable#Save"])
                            class="kix-button submit-button">
                            <span class="kix-icon-arrow-outward"/>
                            <translation-string pattern="Translatable#Save"/>
                        </button>
                    </div>
                    <loading-shield shieldId="SETUP_NOTIFICATION_SHIELD"/>
                </div>
            </@content>
        </widget>
    </else>
</if>
