<!--
Copyright (C) 2006-2025 KIX Service Software GmbH, https://www.kixdesk.com
--
This software comes with ABSOLUTELY NO WARRANTY. For details, see
the enclosed file LICENSE for license information (GPL3). If you
did not receive this file, see https://www.gnu.org/licenses/gpl-3.0.txt.
--
-->

<div class=[
    "app-wrapper",
    {
        blur: state.activeMobile,
    },
]>
    <if(state.initialized)>
        <if(!state.reload)>
            <div class="header-wrapper">
                <kix-header/>
                <if(!state.isMobile)>
                    <tabbar/>
                </if>
            </div>
            <div active=state.activeMobile === 1 class="main-menu-wrapper">
                <main-menu/>
            </div>
            <if(!state.reloadContent)>
                <div
                    active=state.activeMobile === 2
                    class="sidebar-left-wrapper"
                >
                    <sidebar isLeft/>
                </div>
                <div class="content-wrapper mt-3">
                    <router-outlet id="base-router"/>
                </div>
                <div
                    active=state.activeMobile === 3
                    class="sidebar-right-wrapper"
                >
                    <sidebar/>
                </div>
            </if>
            <div class="footer-wrapper">
                <kix-footer/>
            </div>
            <image-viewer/>
            <overlay/>
            <if(state.isMobile)>
                <if(state.activeMobile === 4)>
                    <div active class="mobile-toolbar-wrapper">
                        <div class="application-toolbar-wrapper">
                            <application-toolbar/>
                        </div>
                        <div class="search-object-dropdown-wrapper">
                            <search-object-dropdown/>
                        </div>
                        <div class="personal-toolbar-wrapper">
                            <personal-toolbar/>
                        </div>
                    </div>
                </if>
                <mobile-shields/>
            </if>
        </if>
    </if>
    <loading-shield shieldId="APP_SHIELD"/>
    <if(state.loading)>
        <div class="app-loading-shield">
            <div class="loading-info">
                <loading-spinner/>
                <span>
                    <translation-string pattern=state.loadingHint/>
                </span>
            </div>
        </div>
    </if>

    <div id="kix-modal-area"/>
</div>
