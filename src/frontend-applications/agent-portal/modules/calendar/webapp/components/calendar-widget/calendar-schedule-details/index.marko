<!--
Copyright (C) 2006-2024 KIX Service Software GmbH, https://www.kixdesk.com
--
This software comes with ABSOLUTELY NO WARRANTY. For details, see
the enclosed file LICENSE for license information (GPL3). If you
did not receive this file, see https://www.gnu.org/licenses/gpl-3.0.txt.
--
-->

<div>
    <if(state.ticket && state.prepared)>
        <div.kix-calendar-schedule>
            <div.calendar-header>
                <div.calendar-schedule-title title=state.title>
                    <link-target routingConfiguration=state.routingConfiguration objectId=state.ticket.TicketID>
                        <@content>${state.title}</@content>
                    </link-target>
                </div>
                <div.calendar-schedule-sub-title title=state.organisation>${state.organisation}</div>
                <div.calendar-schedule-description title=state.ticketNumber>
                    <icon icon=state.icon/>${state.ticketNumber}
                </div>
                <div.calendar-avatar title=state.contactTooltip>
                    <if(state.avatar)>
                        <icon icon=state.avatar/>
                    </if>
                    <else>
                        <div.initials style=("background-color:" + state.userColor)>${state.initials}</div>
                    </else>
                </div>
            </div>
            <div.extra-content>
                <div.calendar-schedule-details>
                    <for|property| of=state.properties>
                        <object-property-label object=state.ticket property=property labelProvider=state.labelProvider/>
                    </for>
                </div>
            </div>
        </div>
    </if>
</div>
